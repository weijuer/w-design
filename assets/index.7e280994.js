import{d as j,o as l,c as s,a as o,t as g,w as A,v as N,k as V,F as f,l as m,e as w,f as z,u as v,b as k,m as M,p as R,q,n as B,s as K,r as C,i as O,x as P}from"./app.47bd9c5c.js";const U={class:"w-pagination"},D={class:"w-pagination-info"},T={class:"w-pagination-info-text"},E=k(" \u5171 "),F={class:"w-pagination-info-total"},I=k(" \u6761\u8BB0\u5F55 "),L={class:"w-pagination-info-text"},G=k(" \u6BCF\u9875\u663E\u793A "),H=["value"],J=k(" \u6761 "),Q={class:"w-pagination-list"},W={key:0,class:"w-pagination-item"},X={key:1,class:"w-pagination-item"},Y=["onClick"],Z={key:2,class:"w-pagination-item"},ee={key:3,class:"w-pagination-item"},_={props:{total:{type:Number,default:100},current:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:()=>[10,20,30]}},emits:["update:current"],setup(e,{emit:$}){const u=e,h=r=>{r<1&&(r=1),r>u.total&&(r=u.total),$("update:current",r)},p=j(()=>{const r=u.total,c=u.current,t=[];if(r<=5)for(let i=1;i<=r;i++)t.push(i);else if(c<=3){for(let i=1;i<=5;i++)t.push(i);t.push("..."),t.push(r)}else if(c>=r-2){t.push(1),t.push("...");for(let i=r-4;i<=r;i++)t.push(i)}else{t.push(1),t.push("...");for(let i=c-2;i<=c+2;i++)t.push(i);t.push("..."),t.push(r)}return t});return(r,c)=>(l(),s("div",U,[o("div",D,[o("span",T,[E,o("span",F,g(e.total),1),I]),o("span",L,[G,A(o("select",{class:"w-pagination-info-select","onUpdate:modelValue":c[0]||(c[0]=t=>V(pageSize)?pageSize.value=t:null)},[(l(!0),s(f,null,m(e.pageSizes,t=>(l(),s("option",{value:t},g(t),9,H))),256))],512),[[N,e.pageSize]]),J])]),o("ul",Q,[e.total>1?(l(),s("li",W,[o("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[1]||(c[1]=t=>h(1))},"\u9996\u9875")])):w("v-if",!0),e.total>1?(l(),s("li",X,[o("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[2]||(c[2]=t=>h(e.current-1))},"\u4E0A\u4E00\u9875")])):w("v-if",!0),(l(!0),s(f,null,m(v(p),t=>(l(),s("li",{class:z(["w-pagination-item",{"w-pagination-item-active":t===e.current}])},[o("a",{class:"w-pagination-link",href:"javascript:;",onClick:i=>h(t)},g(t),9,Y)],2))),256)),e.total>1?(l(),s("li",Z,[o("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[3]||(c[3]=t=>h(e.current+1))},"\u4E0B\u4E00\u9875")])):w("v-if",!0),e.total>1?(l(),s("li",ee,[o("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[4]||(c[4]=t=>h(e.total))},"\u5C3E\u9875")])):w("v-if",!0)])]))}};_.install=e=>{e.component(_.name,_)};var ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_});const te={class:"w-table w-table-bordered"},ne={key:0,width:"30"},le={class:"w-table-thead"},se={key:0},ae=["type"],oe={class:"w-table-tbody"},ie={key:"empty-messgae"},re=["colspan"],ce={key:0},ue=["type","value","onChange"],de=["title"],ye={class:"w-table-tfoot"},he=["colspan"],b={props:{dataSource:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]},rowKey:{type:String,required:!0,default:"key"},rowSelection:{type:Object},emptyMessage:{type:String,default:"\u6682\u65E0\u6570\u636E"},pagination:{type:[Boolean,Object],default:!0}},emits:["update:current"],setup(e,{emit:$}){const u=e,h=M(null),p=R({isAllSelected:!1});q(()=>u.rowSelection.selectedRowKeys,a=>{p.isAllSelected=a.length===u.dataSource.length},{immediate:!0});const r=j(()=>u.columns.length+(u.rowSelection?1:0)),c=a=>{const y={};return a.width&&(y.width=typeof a.width=="string"?a.width:`${a.width}px`),y},t=a=>{const{selectedRowKeys:y,onChange:n}=u.rowSelection;y.length>0&&!p.isAllSelected?h.value.indeterminate=!0:h.value.indeterminate=!1,n(y,a)},i=()=>{const{selectedRowKeys:a,onSelectAll:y,onSelectInvert:n}=u.rowSelection;p.isAllSelected?(a.splice(0,a.length),n(a)):(a.splice(0,a.length),u.dataSource.forEach(S=>{a.push(S[u.rowKey])}),y(a))},x=a=>{$("update:current",a)};return(a,y)=>(l(),s("table",te,[o("colgroup",null,[e.rowSelection?(l(),s("col",ne)):w("v-if",!0),(l(!0),s(f,null,m(e.columns,n=>(l(),s("col",{style:B(c(n)),key:n.name},null,4))),128))]),o("thead",le,[o("tr",null,[e.rowSelection?(l(),s("th",se,[A(o("input",{ref:(n,S)=>{S.checkAll=n,h.value=n},type:e.rowSelection.type,"onUpdate:modelValue":y[0]||(y[0]=n=>v(p).isAllSelected=n),onChange:i},null,40,ae),[[K,v(p).isAllSelected]])])):w("v-if",!0),(l(!0),s(f,null,m(e.columns,n=>(l(),s("th",{key:n.name},g(n.title),1))),128))])]),o("tbody",oe,[e.dataSource.length===0?(l(),s("tr",ie,[o("td",{colspan:v(r),class:"empty-messgae"},g(e.emptyMessage),9,re)])):(l(!0),s(f,{key:1},m(e.dataSource,(n,S)=>(l(),s("tr",{key:n[e.rowKey]},[e.rowSelection?(l(),s("td",ce,[A(o("input",{type:e.rowSelection.type,value:n[e.rowKey],"onUpdate:modelValue":y[1]||(y[1]=d=>e.rowSelection.selectedRowKeys=d),onChange:d=>t(n)},null,40,ue),[[K,e.rowSelection.selectedRowKeys]])])):w("v-if",!0),(l(!0),s(f,null,m(e.columns,d=>(l(),s("td",{key:d.name,title:d.ellipsis?n[d.name]:null,class:z({"w-ellipsis":d.ellipsis})},[d.scopedSlot?C(a.$slots,d.scopedSlot,{key:0,index:S,row:n,data:n[d.name]},()=>[k(g(n[d.name]),1)]):(l(),s(f,{key:1},[k(g(d.name==="index"?S+1:n[d.name]),1)],2112))],10,de))),128))]))),128))]),o("tfoot",ye,[o("tr",null,[o("td",{colspan:v(r)},[C(a.$slots,"footer"),C(a.$slots,"pagination",{},()=>[O(v(_),P(e.pagination,{"onUpdate:current":x}),null,16)])],8,he)])])]))}};b.install=e=>{e.component(b.name,b)};var fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:b});export{ge as _,fe as a,b};
