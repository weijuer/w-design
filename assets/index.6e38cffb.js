import{d as A,o as a,c as l,a as i,t as w,w as C,v as V,k as M,F as f,l as k,e as S,f as j,u as y,b as v,m as q,p as B,q as O,n as D,s as x,r as K,i as T,x as U}from"./app.10588c3a.js";const F={class:"w-pagination"},E={class:"w-pagination-info"},L={class:"w-pagination-info-text"},G=v(" \u5171 "),H={class:"w-pagination-info-total"},I=v(" \u6761\u8BB0\u5F55 "),J={class:"w-pagination-info-text"},Q=v(" \u6BCF\u9875\u663E\u793A "),W=["value"],X=v(" \u6761 "),Y={class:"w-pagination-list"},Z={key:0,class:"w-pagination-item"},ee={key:1,class:"w-pagination-item"},te=["onClick"],se={key:2,class:"w-pagination-item"},ne={key:3,class:"w-pagination-item"},b={props:{total:{type:Number,default:100},current:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:()=>[10,20,30]}},emits:["change","update:current"],setup(e,{emit:m}){const r=e,_=()=>{m("update:current",1),m("change",{current:1,pageSize:r.pageSize})},s=p=>{p<1&&(p=1),p>r.total&&(p=r.total),m("update:current",p)},$=A(()=>{const p=r.total,u=r.current,t=[];if(p<=5)for(let d=1;d<=p;d++)t.push(d);else if(u<=3){for(let d=1;d<=5;d++)t.push(d);t.push("..."),t.push(p)}else if(u>=p-2){t.push(1),t.push("...");for(let d=p-4;d<=p;d++)t.push(d)}else{t.push(1),t.push("...");for(let d=u-2;d<=u+2;d++)t.push(d);t.push("..."),t.push(p)}return t});return(p,u)=>(a(),l("div",F,[i("div",E,[i("span",L,[G,i("span",H,w(e.total),1),I]),i("span",J,[Q,C(i("select",{class:"w-pagination-info-select","onUpdate:modelValue":u[0]||(u[0]=t=>M(pageSize)?pageSize.value=t:null),onChange:_},[(a(!0),l(f,null,k(e.pageSizes,t=>(a(),l("option",{value:t},w(t),9,W))),256))],544),[[V,e.pageSize]]),X])]),i("ul",Y,[e.total>1?(a(),l("li",Z,[i("a",{class:"w-pagination-link",href:"javascript:;",onClick:u[1]||(u[1]=t=>s(1))},"\u9996\u9875")])):S("",!0),e.total>1?(a(),l("li",ee,[i("a",{class:"w-pagination-link",href:"javascript:;",onClick:u[2]||(u[2]=t=>s(e.current-1))},"\u4E0A\u4E00\u9875")])):S("",!0),(a(!0),l(f,null,k(y($),t=>(a(),l("li",{class:j(["w-pagination-item",{"w-pagination-item-active":t===e.current}])},[i("a",{class:"w-pagination-link",href:"javascript:;",onClick:d=>s(t)},w(t),9,te)],2))),256)),e.total>1?(a(),l("li",se,[i("a",{class:"w-pagination-link",href:"javascript:;",onClick:u[3]||(u[3]=t=>s(e.current+1))},"\u4E0B\u4E00\u9875")])):S("",!0),e.total>1?(a(),l("li",ne,[i("a",{class:"w-pagination-link",href:"javascript:;",onClick:u[4]||(u[4]=t=>s(e.total))},"\u5C3E\u9875")])):S("",!0)])]))}};b.install=e=>{e.component(b.name,b)};var Se=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:b});const ae={class:"w-table w-table-bordered"},le={key:0,width:"30"},oe={class:"w-table-thead"},ie={key:0},ce=["type"],re={class:"w-table-tbody"},de={key:"empty-messgae"},ue=["colspan"],ge={key:0},pe=["type","value","onChange"],he=["title"],ye={class:"w-table-tfoot"},we=["colspan"],R={props:{rows:{type:Array,required:!0,default:()=>[]},columns:{type:Array,required:!0,default:()=>[]},rowKey:{type:String,required:!0,default:"key"},rowSelection:{type:Object},emptyMessage:{type:String,default:"\u6682\u65E0\u6570\u636E"},pagination:{type:[Object,Boolean],default:null}},emits:["change","update:current"],setup(e,{emit:m}){const r=e,_=q(null),s=B({selectedRows:[],selectedRowKeys:[],isAllSelected:!1}),$=A(()=>r.columns.length+(r.rowSelection?1:0)),p=c=>{const g={};return c.width&&(g.width=typeof c.width=="string"?c.width:`${c.width}px`),g},u=(c,g)=>{const n=g.target.checked,{onChange:h,onSelect:o}=r.rowSelection;s.selectedRowKeys.length>0&&!s.isAllSelected?_.value.indeterminate=!0:_.value.indeterminate=!1,n?s.selectedRows.push(c):s.selectedRows=s.selectedRows.filter(z=>z!==c),h==null||h(s.selectedRowKeys,s.selectedRows),o==null||o(c,n,s.selectedRows,g)},t=c=>{const g=c.target.checked,{onChange:n,onSelectAll:h}=r.rowSelection,{rows:o,rowKey:z}=r;g?(s.selectedRows=o,s.selectedRowKeys=o.map(P=>P[z])):(s.selectedRows=[],s.selectedRowKeys=[]),n==null||n(s.selectedRowKeys,s.selectedRows),h==null||h(g,s.selectedRows)};O(()=>s.selectedRowKeys,c=>{s.isAllSelected=c.length===r.rows.length});const d=(c,g)=>{r.pagination.current=c,r.pagination.pageSize=g,m("change",r.pagination)},N=(c,g)=>{r.pagination.current=page,r.pagination.pageSize=g,m("change",r.pagination)};return(c,g)=>(a(),l("table",ae,[i("colgroup",null,[e.rowSelection?(a(),l("col",le)):S("",!0),(a(!0),l(f,null,k(e.columns,n=>(a(),l("col",{style:D(p(n)),key:n.name},null,4))),128))]),i("thead",oe,[i("tr",null,[e.rowSelection?(a(),l("th",ie,[C(i("input",{ref_key:"checkAll",ref:_,type:e.rowSelection.type,"onUpdate:modelValue":g[0]||(g[0]=n=>y(s).isAllSelected=n),onChange:t},null,40,ce),[[x,y(s).isAllSelected]])])):S("",!0),(a(!0),l(f,null,k(e.columns,n=>(a(),l("th",{key:n.name},w(n.title),1))),128))])]),i("tbody",re,[e.rows.length===0?(a(),l("tr",de,[i("td",{colspan:y($),class:"empty-messgae"},w(e.emptyMessage),9,ue)])):(a(!0),l(f,{key:1},k(e.rows,(n,h)=>(a(),l("tr",{key:n[e.rowKey]},[e.rowSelection?(a(),l("td",ge,[C(i("input",{type:e.rowSelection.type,value:n[e.rowKey],"onUpdate:modelValue":g[1]||(g[1]=o=>y(s).selectedRowKeys=o),onChange:o=>u(n,o)},null,40,pe),[[x,y(s).selectedRowKeys]])])):S("",!0),(a(!0),l(f,null,k(e.columns,o=>(a(),l("td",{key:o.name,title:o.ellipsis?n[o.name]:null,class:j({"w-ellipsis":o.ellipsis})},[o.scopedSlot?K(c.$slots,o.scopedSlot,{key:0,index:h,row:n,data:n[o.name]},()=>[v(w(n[o.name]),1)]):(a(),l(f,{key:1},[v(w(o.name==="index"?h+1:n[o.name]),1)],64))],10,he))),128))]))),128))]),i("tfoot",ye,[i("tr",null,[i("td",{colspan:y($)},[K(c.$slots,"footer"),K(c.$slots,"pagination",{},()=>[T(y(b),U(e.pagination,{onPageSizeChange:N,onChange:d}),null,16)])],8,we)])])]))}};R.install=e=>{e.component(R.name,R)};var me=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:R});export{Se as _,me as a,R as b};
