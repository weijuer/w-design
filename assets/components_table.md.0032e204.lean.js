import{f as b,o as a,c as r,a as l,t as k,l as j,v as F,p as U,F as v,k as $,i as f,n as m,u as w,b as x,q as J,j as B,s as G,x as H,y as A,z as Q,m as T,r as P,g as W,d as X,w as Y,e as Z}from"./app.9084bbd7.js";const ee={class:"w-pagination"},te={class:"w-pagination-info"},ne={class:"w-pagination-info-text"},se=x(" \u5171 "),le={class:"w-pagination-info-total"},oe=x(" \u6761\u8BB0\u5F55 "),ae={class:"w-pagination-info-text"},ie=x(" \u6BCF\u9875\u663E\u793A "),ce=["value"],re=x(" \u6761 "),de={class:"w-pagination-list"},ue={key:0,class:"w-pagination-item"},he={key:1,class:"w-pagination-item"},ge=["onClick"],pe={key:2,class:"w-pagination-item"},ye={key:3,class:"w-pagination-item"},we={name:"w-pagination"},z=Object.assign(we,{props:{total:{type:Number,default:100},current:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:[]},locale:{type:Object,default:()=>({total:"\u5171",count:"\u6761",perPage:"\u6BCF\u9875"})}},emits:["change","update:current"],setup(n,{emit:S}){const i=n,C=b(()=>{const{total:h,current:c}=i,o=[];if(h<=5)for(let p=1;p<=h;p++)o.push(p);else if(c<=3){for(let p=1;p<=5;p++)o.push(p);o.push("..."),o.push(h)}else if(c>=h-2){o.push(1),o.push("...");for(let p=h-4;p<=h;p++)o.push(p)}else{o.push(1),o.push("...");for(let p=c-2;p<=c+2;p++)o.push(p);o.push("..."),o.push(h)}return o}),u=()=>{S("update:current",1),S("change",{current:1,pageSize:i.pageSize})},d=h=>{h<1&&(h=1),h>i.total&&(h=i.total),S("update:current",h)};return(h,c)=>(a(),r("div",ee,[l("div",te,[l("span",ne,[se,l("span",le,k(n.total),1),oe]),l("span",ae,[ie,j(l("select",{class:"w-pagination-info-select","onUpdate:modelValue":c[0]||(c[0]=o=>U(pageSize)?pageSize.value=o:null),onChange:u},[(a(!0),r(v,null,$(n.pageSizes,o=>(a(),r("option",{value:o},k(o),9,ce))),256))],544),[[F,n.pageSize]]),re])]),l("ul",de,[n.total>1?(a(),r("li",ue,[l("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[1]||(c[1]=o=>d(1))},"\u9996\u9875")])):f("",!0),n.total>1?(a(),r("li",he,[l("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[2]||(c[2]=o=>d(n.current-1))},"\u4E0A\u4E00\u9875")])):f("",!0),(a(!0),r(v,null,$(w(C),o=>(a(),r("li",{class:m(["w-pagination-item",{"w-pagination-item-active":o===n.current}])},[l("a",{class:"w-pagination-link",href:"javascript:;",onClick:p=>d(o)},k(o),9,ge)],2))),256)),n.total>1?(a(),r("li",pe,[l("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[3]||(c[3]=o=>d(n.current+1))},"\u4E0B\u4E00\u9875")])):f("",!0),n.total>1?(a(),r("li",ye,[l("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[4]||(c[4]=o=>d(n.total))},"\u5C3E\u9875")])):f("",!0)])]))}});z.install=n=>{n.component(z.name,z)};const fe={class:"w-table-wrapper"},Se={class:"w-table-container"},ke={class:"loading"},_e=l("svg",{class:"loading-svg",viewBox:"0 0 50 50"},[l("circle",{cx:"25",cy:"25",r:"20",fill:"none",class:"circle"})],-1),be=[_e],me={key:0},ve={class:"w-table-thead"},$e=["type"],Ce={key:0,class:"w-row-selection"},Re={class:"w-dropdown-btn"},xe=l("i",{class:"fa fa-chevron-down"},null,-1),ze={class:"w-dropdown-menu"},Ke=["onClick"],je={class:"w-table-tbody"},Ae={key:"empty-messgae"},Te=["colspan"],Pe=["type","value","checked","onChange"],Be=["title"],Ne={key:1,class:"w-table-tfoot"},Ve=["colspan"],De={name:"w-table"},K=Object.assign(De,{props:{isLocal:{type:Boolean,default:!1},rows:{type:Array,require:!0,default:()=>[]},columns:{type:Array,require:!0,default:()=>[]},caption:String,loading:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},striped:{type:Boolean,default:!1},locale:{type:Object,default:()=>({emptyMessage:"\u6682\u65E0\u6570\u636E",total:"\u5171",count:"\u6761",perPage:"\u6BCF\u9875"})},rowKey:{type:String,default:"id"},pagination:{type:[Object,Boolean],default:function(){return{currentIndex:1,pageSize:10,totalCount:0,pageSizes:[10,20,30]}}},rowSelection:{type:[Boolean,Object],default:null}},emits:["change","select","select-all"],setup(n,{emit:S}){const i=n,C=J(null),u=B({selectedRows:[],selectedRowKeys:[],isAllSelected:!1}),d=b(()=>i.rowKey),h=b(()=>{const{columns:e,rowSelection:s}=i;return e.length+(s?1:0)}),c=b(()=>{console.log("dataSource");const{isLocal:e,rows:s,pagination:t}=i;if(e){const{currentIndex:y,pageSize:g}=t,_=(y-1)*g,R=_+g;return s.slice(_,R)}else return s}),o=b(()=>{const{rowSelection:e}=i;return e&&e.type==="radio"?"radio":"checkbox"}),p=b(()=>{const{rowSelection:e}=i;return e?"sticky":null}),N=b(()=>{const{striped:e,responsive:s,rowSelection:t,bordered:y}=i;return["w-table",e?"w-table-striped":null,s?"w-table-responsive":null,y?"w-table-bordered":null,c.length>10?"w-table-scroll":null,t?"w-table-row-selection":null]}),V=e=>{const{rowSelection:s}=i;if(s){const{type:t,checkStrictly:y}=s;return{type:t,value:e[d],checked:u.selectedRowKeys.includes(e[d]),disabled:y&&!u.selectedRowKeys.includes(e[d])}}},D=e=>{const{rowSelection:s}=i;if(s){const{type:t,checkStrictly:y}=s;if(t==="radio")return u.selectedRowKeys.includes(e[d]);if(t==="checkbox")return y?u.selectedRowKeys.includes(e[d]):u.selectedRowKeys.some(g=>g===e[d])}},I=e=>{const{pagination:{currentIndex:s,pageSize:t}}=i;return console.log("getIndex",s,t),(s-1)*t+e+1},O=e=>{const s={};return e.width&&(s.width=typeof e.width=="string"?e.width:`${e.width}px`),s},L=(e,s)=>{const{checked:t,disabled:y}=s.target,{onChange:g,onSelect:_}=i.rowSelection;y||(t?(u.selectedRows.push(e),u.selectedRowKeys.push(e[this.rowKey])):(u.selectedRows=u.selectedRows.filter(R=>R!==e),u.selectedRowKeys=u.selectedRowKeys.filter(R=>R!==e[this.rowKey])),g==null||g(u.selectedRowKeys,u.selectedRows),_==null||_(e,t,u.selectedRows,s))},M=e=>{const s=e.target.checked,{onChange:t,onSelectAll:y}=i.rowSelection,{rows:g,rowKey:_}=i;s?u.selectedRows=g:(u.selectedRows=[],u.selectedRowKeys=[]),t==null||t(u.selectedRowKeys,u.selectedRows),y==null||y(s,u.selectedRows)};G(()=>u.selectedRowKeys,e=>{u.isAllSelected=e.length===i.rows.length});const q=(e,s)=>{i.pagination.current=e,i.pagination.pageSize=s,S("change",i.pagination)},E=(e,s)=>{i.pagination.current=page,i.pagination.pageSize=s,S("change",i.pagination)};return(e,s)=>(a(),r("div",fe,[l("div",Se,[j(l("div",ke,be,512),[[H,n.loading]]),l("table",{class:m(w(N))},[n.caption?(a(),r("caption",me,k(n.caption),1)):f("",!0),l("colgroup",null,[n.rowSelection?(a(),r("col",{key:0,style:A(w(p))},null,4)):f("",!0),(a(!0),r(v,null,$(n.columns,t=>(a(),r("col",{style:A(O(t)),key:t.name},null,4))),128))]),l("thead",ve,[l("tr",null,[n.rowSelection?(a(),r("th",{key:0,class:m(n.rowSelection.selections?null:"sticky")},[j(l("input",{ref_key:"checkAll",ref:C,type:w(o),"onUpdate:modelValue":s[0]||(s[0]=t=>e.isAllSelected=t),onChange:M},null,40,$e),[[Q,e.isAllSelected]]),n.rowSelection.selections?(a(),r("div",Ce,[l("div",Re,[xe,l("ul",ze,[(a(!0),r(v,null,$(n.rowSelection.selections,(t,y)=>(a(),r("li",{key:"selection"+y},[l("a",{href:"javascript:;",onClick:t.onSelect},k(t.text),9,Ke)]))),128))])])])):f("",!0)],2)):f("",!0),(a(!0),r(v,null,$(n.columns,t=>(a(),r("th",{key:t.name,class:m(t.sticky?"sticky":null)},k(t.title),3))),128))])]),l("tbody",je,[w(c).length===0?(a(),r("tr",Ae,[l("td",{colspan:w(h),class:"empty-messgae"},k(n.locale.emptyMessage),9,Te)])):(a(!0),r(v,{key:1},$(w(c),(t,y)=>(a(),r("tr",{key:t[w(d)]},[n.rowSelection?(a(),r("td",{key:0,class:m([n.rowSelection.selections?"":"sticky"])},[l("input",T({type:w(o),value:t[w(d)],checked:D(t)},V(t),{onChange:g=>L(t,g)}),null,16,Pe)],2)):f("",!0),(a(!0),r(v,null,$(n.columns,g=>(a(),r("td",{key:g.name,title:g.ellipsis?t[g.name]:null,class:m({sticky:g.sticky})},[g.scopedSlot?P(e.$slots,g.scopedSlot,{key:0,index:y,row:t,data:t[g.name]},()=>[x(k(t[g.name]),1)]):(a(),r("span",{key:1,class:m(g.ellipsis?"w-ellipsis":null)},k(g.name==="index"?I(y):t[g.name]),3))],10,Be))),128))]))),128))]),e.$slots.tfoot?(a(),r("tfoot",Ne,[l("tr",null,[l("td",{colspan:w(h)},[P(e.$slots,"tfoot")],8,Ve)])])):f("",!0)],2)]),n.pagination?(a(),W(w(z),T({key:0},{...n.pagination,locale:n.locale},{onPageSizeChange:E,onChange:q}),null,16)):f("",!0)]))}});K.install=n=>{n.component(K.name,K)};const Ie=Z("",7),Oe={class:"w-container"},Le=["onClick"],Ee=JSON.parse('{"title":"Table \u8868\u683C","description":"","frontmatter":{"title":"Table \u8868\u683C"},"headers":[{"level":2,"title":"Table \u8868\u683C","slug":"table-\u8868\u683C","link":"#table-\u8868\u683C","children":[]},{"level":2,"title":"\u4F55\u65F6\u4F7F\u7528","slug":"\u4F55\u65F6\u4F7F\u7528","link":"#\u4F55\u65F6\u4F7F\u7528","children":[]},{"level":2,"title":"\u5982\u4F55\u4F7F\u7528","slug":"\u5982\u4F55\u4F7F\u7528","link":"#\u5982\u4F55\u4F7F\u7528","children":[]},{"level":2,"title":"\u4EE3\u7801\u6F14\u793A","slug":"\u4EE3\u7801\u6F14\u793A","link":"#\u4EE3\u7801\u6F14\u793A","children":[]}],"relativePath":"components/table.md"}'),Me={name:"components/table.md"},Fe=Object.assign(Me,{setup(n){const S={getColumns(){return[{title:"\u5E8F\u53F7",name:"index"},{title:"\u59D3\u540D",name:"name"},{title:"\u751F\u65E5",name:"birthday",scopedSlot:"birthday"},{title:"\u5E74\u9F84",name:"age"},{title:"\u6027\u522B",name:"sex"},{title:"\u64CD\u4F5C",name:"action",scopedSlot:"action"}]},getDataSource(d){return Array(d).fill(1).map((h,c)=>({id:c,name:`test-${c}`,age:c+1,birthday:new Date().toLocaleString(),sex:"\u7537"}))}},i=B({dataSource:S.getDataSource(10),columns:S.getColumns(),pagination:{total:101,current:1,pageSize:20,pageSizes:[10,20,30]},rowSelection:{type:"checkbox",selectedRowKeys:[],onChange:function(d,h){console.log("selectedRowKeys:",d),console.log("selectedRows:",h)},onSelect:function(d,h,c){console.log("record:",d,"selected:",h,"selectedRows:",c)},onSelectAll:function(d,h,c){console.log("selected:",d,"selectedRows:",h,"changeRows:",c)},onSelectInvert:function(d){console.log("selectedRows:",d)}}}),C=()=>{},u=d=>{console.log(d)};return(d,h)=>(a(),r("div",null,[Ie,l("div",Oe,[X(w(K),{"row-key":"id",columns:i.columns,rows:i.dataSource,pagination:i.pagination,"row-selection":i.rowSelection,onChange:C},{action:Y(({row:c})=>[l("a",{onClick:o=>u(c),href:"javascript:;",class:"w-btn btn-link"},"\u67E5\u770B",8,Le)]),_:1},8,["columns","rows","pagination","row-selection"])])]))}});export{Ee as __pageData,Fe as default};
