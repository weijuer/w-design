import{f as m,o,c as r,a,t as k,l as j,v as F,p as U,F as v,k as $,i as f,n as b,u as w,b as x,q as J,j as B,s as G,x as H,y as A,z as Q,m as T,r as P,g as W,d as X,w as Y,e as Z}from"./app.18a54934.js";const ee={class:"w-pagination"},te={class:"w-pagination-info"},se={class:"w-pagination-info-text"},ne=x(" \u5171 "),ae={class:"w-pagination-info-total"},le=x(" \u6761\u8BB0\u5F55 "),oe={class:"w-pagination-info-text"},ie=x(" \u6BCF\u9875\u663E\u793A "),ce=["value"],re=x(" \u6761 "),de={class:"w-pagination-list"},ue={key:0,class:"w-pagination-item"},he={key:1,class:"w-pagination-item"},ge=["onClick"],pe={key:2,class:"w-pagination-item"},ye={key:3,class:"w-pagination-item"},we={name:"w-pagination"},z=Object.assign(we,{props:{total:{type:Number,default:100},current:{type:Number,default:1},pageSize:{type:Number,default:10},pageSizes:{type:Array,default:[]},locale:{type:Object,default:()=>({total:"\u5171",count:"\u6761",perPage:"\u6BCF\u9875"})}},emits:["change","update:current"],setup(s,{emit:S}){const i=s,C=m(()=>{const{total:h,current:c}=i,l=[];if(h<=5)for(let p=1;p<=h;p++)l.push(p);else if(c<=3){for(let p=1;p<=5;p++)l.push(p);l.push("..."),l.push(h)}else if(c>=h-2){l.push(1),l.push("...");for(let p=h-4;p<=h;p++)l.push(p)}else{l.push(1),l.push("...");for(let p=c-2;p<=c+2;p++)l.push(p);l.push("..."),l.push(h)}return l}),u=()=>{S("update:current",1),S("change",{current:1,pageSize:i.pageSize})},d=h=>{h<1&&(h=1),h>i.total&&(h=i.total),S("update:current",h)};return(h,c)=>(o(),r("div",ee,[a("div",te,[a("span",se,[ne,a("span",ae,k(s.total),1),le]),a("span",oe,[ie,j(a("select",{class:"w-pagination-info-select","onUpdate:modelValue":c[0]||(c[0]=l=>U(pageSize)?pageSize.value=l:null),onChange:u},[(o(!0),r(v,null,$(s.pageSizes,l=>(o(),r("option",{value:l},k(l),9,ce))),256))],544),[[F,s.pageSize]]),re])]),a("ul",de,[s.total>1?(o(),r("li",ue,[a("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[1]||(c[1]=l=>d(1))},"\u9996\u9875")])):f("",!0),s.total>1?(o(),r("li",he,[a("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[2]||(c[2]=l=>d(s.current-1))},"\u4E0A\u4E00\u9875")])):f("",!0),(o(!0),r(v,null,$(w(C),l=>(o(),r("li",{class:b(["w-pagination-item",{"w-pagination-item-active":l===s.current}])},[a("a",{class:"w-pagination-link",href:"javascript:;",onClick:p=>d(l)},k(l),9,ge)],2))),256)),s.total>1?(o(),r("li",pe,[a("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[3]||(c[3]=l=>d(s.current+1))},"\u4E0B\u4E00\u9875")])):f("",!0),s.total>1?(o(),r("li",ye,[a("a",{class:"w-pagination-link",href:"javascript:;",onClick:c[4]||(c[4]=l=>d(s.total))},"\u5C3E\u9875")])):f("",!0)])]))}});z.install=s=>{s.component(z.name,z)};const fe={class:"w-table-wrapper"},Se={class:"w-table-container"},ke={class:"loading"},_e=a("svg",{class:"loading-svg",viewBox:"0 0 50 50"},[a("circle",{cx:"25",cy:"25",r:"20",fill:"none",class:"circle"})],-1),me=[_e],be={key:0},ve={class:"w-table-thead"},$e=["type"],Ce={key:0,class:"w-row-selection"},Re={class:"w-dropdown-btn"},xe=a("i",{class:"fa fa-chevron-down"},null,-1),ze={class:"w-dropdown-menu"},Ke=["onClick"],je={class:"w-table-tbody"},Ae={key:"empty-messgae"},Te=["colspan"],Pe=["type","value","checked","onChange"],Be=["title"],Ne={key:1,class:"w-table-tfoot"},Ve=["colspan"],De={name:"w-table"},K=Object.assign(De,{props:{isLocal:{type:Boolean,default:!1},rows:{type:Array,require:!0,default:()=>[]},columns:{type:Array,require:!0,default:()=>[]},caption:String,loading:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},striped:{type:Boolean,default:!1},locale:{type:Object,default:()=>({emptyMessage:"\u6682\u65E0\u6570\u636E",total:"\u5171",count:"\u6761",perPage:"\u6BCF\u9875"})},rowKey:{type:String,default:"id"},pagination:{type:[Object,Boolean],default:function(){return{currentIndex:1,pageSize:10,totalCount:0,pageSizes:[10,20,30]}}},rowSelection:{type:[Boolean,Object],default:null}},emits:["change","select","select-all"],setup(s,{emit:S}){const i=s,C=J(null),u=B({selectedRows:[],selectedRowKeys:[],isAllSelected:!1}),d=m(()=>i.rowKey),h=m(()=>{const{columns:e,rowSelection:n}=i;return e.length+(n?1:0)}),c=m(()=>{console.log("dataSource");const{isLocal:e,rows:n,pagination:t}=i;if(e){const{currentIndex:y,pageSize:g}=t,_=(y-1)*g,R=_+g;return n.slice(_,R)}else return n}),l=m(()=>{const{rowSelection:e}=i;return e&&e.type==="radio"?"radio":"checkbox"}),p=m(()=>{const{rowSelection:e}=i;return e?"sticky":null}),N=m(()=>{const{striped:e,responsive:n,rowSelection:t,bordered:y}=i;return["w-table",e?"w-table-striped":null,n?"w-table-responsive":null,y?"w-table-bordered":null,c.length>10?"w-table-scroll":null,t?"w-table-row-selection":null]}),V=e=>{const{rowSelection:n}=i;if(n){const{type:t,checkStrictly:y}=n;return{type:t,value:e[d],checked:u.selectedRowKeys.includes(e[d]),disabled:y&&!u.selectedRowKeys.includes(e[d])}}},D=e=>{const{rowSelection:n}=i;if(n){const{type:t,checkStrictly:y}=n;if(t==="radio")return u.selectedRowKeys.includes(e[d]);if(t==="checkbox")return y?u.selectedRowKeys.includes(e[d]):u.selectedRowKeys.some(g=>g===e[d])}},I=e=>{const{pagination:{currentIndex:n,pageSize:t}}=i;return console.log("getIndex",n,t),(n-1)*t+e+1},O=e=>{const n={};return e.width&&(n.width=typeof e.width=="string"?e.width:`${e.width}px`),n},L=(e,n)=>{const{checked:t,disabled:y}=n.target,{onChange:g,onSelect:_}=i.rowSelection;y||(t?(u.selectedRows.push(e),u.selectedRowKeys.push(e[this.rowKey])):(u.selectedRows=u.selectedRows.filter(R=>R!==e),u.selectedRowKeys=u.selectedRowKeys.filter(R=>R!==e[this.rowKey])),g==null||g(u.selectedRowKeys,u.selectedRows),_==null||_(e,t,u.selectedRows,n))},M=e=>{const n=e.target.checked,{onChange:t,onSelectAll:y}=i.rowSelection,{rows:g,rowKey:_}=i;n?u.selectedRows=g:(u.selectedRows=[],u.selectedRowKeys=[]),t==null||t(u.selectedRowKeys,u.selectedRows),y==null||y(n,u.selectedRows)};G(()=>u.selectedRowKeys,e=>{u.isAllSelected=e.length===i.rows.length});const q=(e,n)=>{i.pagination.current=e,i.pagination.pageSize=n,S("change",i.pagination)},E=(e,n)=>{i.pagination.current=page,i.pagination.pageSize=n,S("change",i.pagination)};return(e,n)=>(o(),r("div",fe,[a("div",Se,[j(a("div",ke,me,512),[[H,s.loading]]),a("table",{class:b(w(N))},[s.caption?(o(),r("caption",be,k(s.caption),1)):f("",!0),a("colgroup",null,[s.rowSelection?(o(),r("col",{key:0,style:A(w(p))},null,4)):f("",!0),(o(!0),r(v,null,$(s.columns,t=>(o(),r("col",{style:A(O(t)),key:t.name},null,4))),128))]),a("thead",ve,[a("tr",null,[s.rowSelection?(o(),r("th",{key:0,class:b(s.rowSelection.selections?null:"sticky")},[j(a("input",{ref_key:"checkAll",ref:C,type:w(l),"onUpdate:modelValue":n[0]||(n[0]=t=>e.isAllSelected=t),onChange:M},null,40,$e),[[Q,e.isAllSelected]]),s.rowSelection.selections?(o(),r("div",Ce,[a("div",Re,[xe,a("ul",ze,[(o(!0),r(v,null,$(s.rowSelection.selections,(t,y)=>(o(),r("li",{key:"selection"+y},[a("a",{href:"javascript:;",onClick:t.onSelect},k(t.text),9,Ke)]))),128))])])])):f("",!0)],2)):f("",!0),(o(!0),r(v,null,$(s.columns,t=>(o(),r("th",{key:t.name,class:b(t.sticky?"sticky":null)},k(t.title),3))),128))])]),a("tbody",je,[w(c).length===0?(o(),r("tr",Ae,[a("td",{colspan:w(h),class:"empty-messgae"},k(s.locale.emptyMessage),9,Te)])):(o(!0),r(v,{key:1},$(w(c),(t,y)=>(o(),r("tr",{key:t[w(d)]},[s.rowSelection?(o(),r("td",{key:0,class:b([s.rowSelection.selections?"":"sticky"])},[a("input",T({type:w(l),value:t[w(d)],checked:D(t)},V(t),{onChange:g=>L(t,g)}),null,16,Pe)],2)):f("",!0),(o(!0),r(v,null,$(s.columns,g=>(o(),r("td",{key:g.name,title:g.ellipsis?t[g.name]:null,class:b({sticky:g.sticky})},[g.scopedSlot?P(e.$slots,g.scopedSlot,{key:0,index:y,row:t,data:t[g.name]},()=>[x(k(t[g.name]),1)]):(o(),r("span",{key:1,class:b(g.ellipsis?"w-ellipsis":null)},k(g.name==="index"?I(y):t[g.name]),3))],10,Be))),128))]))),128))]),e.$slots.tfoot?(o(),r("tfoot",Ne,[a("tr",null,[a("td",{colspan:w(h)},[P(e.$slots,"tfoot")],8,Ve)])])):f("",!0)],2)]),s.pagination?(o(),W(w(z),T({key:0},{...s.pagination,locale:s.locale},{onPageSizeChange:E,onChange:q}),null,16)):f("",!0)]))}});K.install=s=>{s.component(K.name,K)};const Ie=Z("",7),Oe={class:"w-container"},Le=["onClick"],Ee=JSON.parse('{"title":"Table \u8868\u683C","description":"","frontmatter":{"title":"Table \u8868\u683C"},"headers":[{"level":2,"title":"Table \u8868\u683C","slug":"table-\u8868\u683C"},{"level":2,"title":"\u4F55\u65F6\u4F7F\u7528","slug":"\u4F55\u65F6\u4F7F\u7528"},{"level":2,"title":"\u5982\u4F55\u4F7F\u7528","slug":"\u5982\u4F55\u4F7F\u7528"},{"level":2,"title":"\u4EE3\u7801\u6F14\u793A","slug":"\u4EE3\u7801\u6F14\u793A"}],"relativePath":"components/table.md"}'),Me={name:"components/table.md"},Fe=Object.assign(Me,{setup(s){const S={getColumns(){return[{title:"\u5E8F\u53F7",name:"index"},{title:"\u59D3\u540D",name:"name"},{title:"\u751F\u65E5",name:"birthday",scopedSlot:"birthday"},{title:"\u5E74\u9F84",name:"age"},{title:"\u6027\u522B",name:"sex"},{title:"\u64CD\u4F5C",name:"action",scopedSlot:"action"}]},getDataSource(d){return Array(d).fill(1).map((h,c)=>({id:c,name:`test-${c}`,age:c+1,birthday:new Date().toLocaleString(),sex:"\u7537"}))}},i=B({dataSource:S.getDataSource(10),columns:S.getColumns(),pagination:{total:101,current:1,pageSize:20,pageSizes:[10,20,30]},rowSelection:{type:"checkbox",selectedRowKeys:[],onChange:function(d,h){console.log("selectedRowKeys:",d),console.log("selectedRows:",h)},onSelect:function(d,h,c){console.log("record:",d,"selected:",h,"selectedRows:",c)},onSelectAll:function(d,h,c){console.log("selected:",d,"selectedRows:",h,"changeRows:",c)},onSelectInvert:function(d){console.log("selectedRows:",d)}}}),C=()=>{},u=d=>{console.log(d)};return(d,h)=>(o(),r("div",null,[Ie,a("div",Oe,[X(w(K),{"row-key":"id",columns:i.columns,rows:i.dataSource,pagination:i.pagination,"row-selection":i.rowSelection,onChange:C},{action:Y(({row:c})=>[a("a",{onClick:l=>u(c),href:"javascript:;",class:"w-btn btn-link"},"\u67E5\u770B",8,Le)]),_:1},8,["columns","rows","pagination","row-selection"])])]))}});export{Ee as __pageData,Fe as default};
